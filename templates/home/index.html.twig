{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block body %}

    {% include 'components/header.html.twig' %}

    <main class="main">
        <div id="calendar" data-url="{{ path('app_calendar_data') }}"></div>
        <div id="section-right">
            <div class="side-list">
                <div id="side-list_title">
                    <h2>À Venir</h2>
                </div>
                <div class="items">
                    {% for item in cardData %}
                        <div class="item {% if item.card.getIsValidated == 0 %} notvalidated {% endif %}"
                             style="border-left-color: {{ item.typeColor }} !important;">
                            <p class="card-id">{{ item.card.getId }}</p>
                            <p class="type-id">{{ item.card.getCrdTypId.getId }}</p>
                            <div class="time">
                                <p class="date">
                                    {% if item.card.getCrdFrom is not null %}
                                        Du {{ item.card.getFormattedCrdFrom }} <br>Au
                                    {% endif %}
                                    {{ item.card.getFormattedCrdTo }}
                                </p>
                                <div class="time_left">
                                    <i class="fa-solid fa-hourglass-half" style="color:{{ item.timeColor }}"></i>
                                    <p class="days">Dans<br><span>{{ item.card.getTimeLeft }}</span></p>
                                </div>
                            </div>
                            <div class="subject">
                                <p class="tag"
                                   style="border-color: {{ item.typeColor }}; background-color: {{ item.typeColor }}20">{{ item.typeName }}</p>
                                <h3 class="notif-card__title">{{ item.card.getCrdTitle }}</h3>
                                <p class="notif-card__subject">{{ item.subjectRef }} - {{ item.subjectName }}</p>
                            </div>
                            {% if item.typeName is same as('rendu') %}
                                <!--<div class="status">
                                    <i class="fa-regular fa-square"></i>
                                    <p>À Rendre</p>
                                </div>-->
                                <div class="status status-button not-done">
                                    <i class="fa-regular fa-square not-done"></i>
                                    <i class="fa-regular fa-square done"></i>
                                    <p>Rendu</p>
                                </div>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div id="details"></div>
        </div>
    </main>
{% endblock %}
